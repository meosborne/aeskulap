# declare directories containing used libraries
LINK_DIRECTORIES(${dcmsr_BINARY_DIR} ${ofstd_BINARY_DIR} ${dcmdata_BINARY_DIR})
IF(WITH_ZLIB)
  LINK_DIRECTORIES(${WITH_ZLIBINC}/lib)
ENDIF(WITH_ZLIB)
IF(WITH_LIBXML)
  LINK_DIRECTORIES(${WITH_LIBXMLINC}/lib)
ENDIF(WITH_LIBXML)

# declare executables
ADD_EXECUTABLE(dsr2html dsr2html)
ADD_EXECUTABLE(dsr2xml dsr2xml)
ADD_EXECUTABLE(dsrdump dsrdump)
ADD_EXECUTABLE(xml2dsr xml2dsr)

# make sure executables are linked to the corresponding libraries
# dsr2html
IF(WITH_ZLIB)
  IF(WITH_LIBXML)
    TARGET_LINK_LIBRARIES(dsr2html netapi32 wsock32 ofstd dcmdata dcmsr debug zlib_d optimized zlib_o debug libxml2_d optimized libxml2_o debug iconv_d optimized iconv_o)
  ELSE(WITH_LIBXML)
    TARGET_LINK_LIBRARIES(dsr2html netapi32 wsock32 ofstd dcmdata dcmsr debug zlib_d optimized zlib_o)
  ENDIF(WITH_LIBXML)
ELSE(WITH_ZLIB)
  IF(WITH_LIBXML)
    TARGET_LINK_LIBRARIES(dsr2html netapi32 wsock32 ofstd dcmdata dcmsr debug libxml2_d optimized libxml2_o debug iconv_d optimized iconv_o)
  ELSE(WITH_LIBXML)
    TARGET_LINK_LIBRARIES(dsr2html netapi32 wsock32 ofstd dcmdata dcmsr)
  ENDIF(WITH_LIBXML)
ENDIF(WITH_ZLIB)
# dsr2xml
IF(WITH_ZLIB)
  IF(WITH_LIBXML)
    TARGET_LINK_LIBRARIES(dsr2xml netapi32 wsock32 ofstd dcmdata dcmsr debug zlib_d optimized zlib_o debug libxml2_d optimized libxml2_o debug iconv_d optimized iconv_o)
  ELSE(WITH_LIBXML)
    TARGET_LINK_LIBRARIES(dsr2xml netapi32 wsock32 ofstd dcmdata dcmsr debug zlib_d optimized zlib_o)
  ENDIF(WITH_LIBXML)
ELSE(WITH_ZLIB)
  IF(WITH_LIBXML)
    TARGET_LINK_LIBRARIES(dsr2xml netapi32 wsock32 ofstd dcmdata dcmsr debug libxml2_d optimized libxml2_o debug iconv_d optimized iconv_o)
  ELSE(WITH_LIBXML)
    TARGET_LINK_LIBRARIES(dsr2xml netapi32 wsock32 ofstd dcmdata dcmsr)
  ENDIF(WITH_LIBXML)
ENDIF(WITH_ZLIB)
# dsrdump
IF(WITH_ZLIB)
  IF(WITH_LIBXML)
    TARGET_LINK_LIBRARIES(dsrdump netapi32 wsock32 ofstd dcmdata dcmsr debug zlib_d optimized zlib_o debug libxml2_d optimized libxml2_o debug iconv_d optimized iconv_o)
  ELSE(WITH_LIBXML)
    TARGET_LINK_LIBRARIES(dsrdump netapi32 wsock32 ofstd dcmdata dcmsr debug zlib_d optimized zlib_o)
  ENDIF(WITH_LIBXML)
ELSE(WITH_ZLIB)
  IF(WITH_LIBXML)
    TARGET_LINK_LIBRARIES(dsrdump netapi32 wsock32 ofstd dcmdata dcmsr debug libxml2_d optimized libxml2_o debug iconv_d optimized iconv_o)
  ELSE(WITH_LIBXML)
    TARGET_LINK_LIBRARIES(dsrdump netapi32 wsock32 ofstd dcmdata dcmsr)
  ENDIF(WITH_LIBXML)
ENDIF(WITH_ZLIB)
# xml2dsr
IF(WITH_ZLIB)
  IF(WITH_LIBXML)
    TARGET_LINK_LIBRARIES(xml2dsr netapi32 wsock32 ofstd dcmdata dcmsr debug zlib_d optimized zlib_o debug libxml2_d optimized libxml2_o debug iconv_d optimized iconv_o)
  ELSE(WITH_LIBXML)
    TARGET_LINK_LIBRARIES(xml2dsr netapi32 wsock32 ofstd dcmdata dcmsr debug zlib_d optimized zlib_o)
  ENDIF(WITH_LIBXML)
ELSE(WITH_ZLIB)
  IF(WITH_LIBXML)
    TARGET_LINK_LIBRARIES(xml2dsr netapi32 wsock32 ofstd dcmdata dcmsr debug libxml2_d optimized libxml2_o debug iconv_d optimized iconv_o)
  ELSE(WITH_LIBXML)
    TARGET_LINK_LIBRARIES(xml2dsr netapi32 wsock32 ofstd dcmdata dcmsr)
  ENDIF(WITH_LIBXML)
ENDIF(WITH_ZLIB)
